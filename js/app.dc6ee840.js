(function(t){function e(e){for(var n,r,i=e[0],l=e[1],c=e[2],u=0,d=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,r=1;r<a.length;r++){var i=a[r];0!==o[i]&&(n=!1)}n&&(s.splice(e--,1),t=l(l.s=a[0]))}return t}var n={},r={app:0},o={app:0},s=[];function i(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"e3815f59"}[t]+".js"}function l(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={about:1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var n="css/"+({about:"about"}[t]||t)+"."+{about:"bbd1e452"}[t]+".css",o=l.p+n,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===n||u===o))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],u=c.getAttribute("data-href");if(u===n||u===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete r[t],p.parentNode.removeChild(p),a(s)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){r[t]=0})));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise((function(e,a){n=o[t]=[e,a]}));e.push(n[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=i(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(p);var a=o[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}o[t]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=n,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(a,n,function(e){return t[e]}.bind(null,n));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/rebus-hackathon-gh-pages/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var p=u;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"200a":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var n="https://rebus-leadersofdigital-2020.herokuapp.com/api/"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("Drawer",{attrs:{items:t.items},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}}),n("v-app-bar",{attrs:{app:"",color:"#262C40",dark:""}},[n("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){t.drawer=!t.drawer}}}),n("img",{attrs:{width:"200",height:"40",src:a("f295")}}),n("v-spacer"),n("Tabs",{staticClass:"hidden-sm-and-down",attrs:{items:t.items}}),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{color:"primary"},on:{click:function(e){return t.clickNewTender()}}},[t._v("Есть предложение")]),n("v-btn",{staticClass:"hidden-md-and-up",attrs:{fab:"",small:"",color:"primary"},on:{click:function(e){return t.clickNewTender()}}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),n("v-avatar",{staticClass:"ma-3",staticStyle:{cursor:"pointer"},attrs:{size:"40",tile:""},on:{click:function(e){return t.clickAvatar()}}},[t.$store.state.user.avatarSmall?t._e():n("v-icon",{attrs:{dark:""}},[t._v("mdi-account")]),t.$store.state.user.avatarSmall?n("v-img",{attrs:{src:t.$store.state.user.avatarSmall}}):t._e()],1)],1),n("v-main",[n("v-container",{attrs:{fluid:""}},[n("router-view")],1)],1),n("v-footer",{attrs:{app:""}}),n("notifications",{attrs:{group:"notifications"}})],1)},o=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{attrs:{app:"","disable-resize-watcher":!0,value:t.value}},[a("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[t._l(t.items,(function(e){return a("v-list-item",{key:e.id,attrs:{to:{path:e.path}}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),a("v-divider"),a("v-list-item",{on:{click:function(e){return t.clickExit()}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-exit-to-app")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Выйти")])],1)],1)],2)],1)},i=[],l="AUTH_REQUEST",c="AUTH_SUCCESS",u="AUTH_ERROR",d="AUTH_LOGOUT",p="LOAD_USER_DATA",m="SET_USER_DATA",f={name:"Drawer",props:{value:{type:Boolean,required:!0},items:Array},data:function(){return{}},methods:{clickExit:function(){var t=this;console.log("exit"),this.$store.dispatch(d).then((function(){console.log("exit AUTH_LOGOUT"),t.$router.push("/login")}))}}},v=f,h=a("2877"),b=a("6544"),g=a.n(b),_=a("ce7e"),w=a("132d"),k=a("8860"),y=a("da13"),T=a("5d23"),O=a("34c3"),A=a("f774"),C=Object(h["a"])(v,s,i,!1,null,"d3bcfdca",null),S=C.exports;g()(C,{VDivider:_["a"],VIcon:w["a"],VList:k["a"],VListItem:y["a"],VListItemContent:T["a"],VListItemIcon:O["a"],VListItemTitle:T["b"],VNavigationDrawer:A["a"]});var E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-tabs",{attrs:{dark:""}},t._l(t.items,(function(e){return a("v-tab",{key:e.id,attrs:{to:{path:e.path}}},[t._v(t._s(e.title))])})),1)},x=[],j={name:"Tabs",props:{items:Array},data:function(){return{}}},V=j,L=a("71a3"),P=a("fe57"),$=Object(h["a"])(V,E,x,!1,null,"2258bc8e",null),U=$.exports;g()($,{VTab:L["a"],VTabs:P["a"]});var I={name:"App",components:{Tabs:U,Drawer:S},data:function(){return{drawer:!1,items:[{id:"proposals",title:"Предложения",icon:"mdi-lightbulb",path:"/proposals"},{id:"projects",title:"Проекты",icon:"mdi-star",path:"/projects"},{id:"shop",title:"Магазин",icon:"mdi-star",path:"/shop"}]}},mounted:function(){window.router=this.$router,console.log("router",window.router),this.$store.state.token||this.$router.push("/login"),this.$store.dispatch(p)},methods:{clickNewTender:function(){console.log("clickNewTender"),this.$router.push("/proposals/new")},clickAvatar:function(){this.$router.push("/account")}}},R=I,D=a("7496"),H=a("40dc"),N=a("5bc1"),B=a("8212"),F=a("8336"),M=a("a523"),z=a("553a"),q=a("adda"),G=a("f6c4"),Q=a("2fa4"),J=Object(h["a"])(R,r,o,!1,null,null,null),K=J.exports;g()(J,{VApp:D["a"],VAppBar:H["a"],VAppBarNavIcon:N["a"],VAvatar:B["a"],VBtn:F["a"],VContainer:M["a"],VFooter:z["a"],VIcon:w["a"],VImg:q["a"],VMain:G["a"],VSpacer:Q["a"]});a("d3b7");var W=a("8c4f"),X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"proposals"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("ProposalsList")],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("ActivityStats")],1)],1)],1)},Y=[],Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{attrs:{nav:""}},t._l(t.items,(function(e){return a("v-list-item",{key:e.title,attrs:{to:{name:"ProposalPage",params:{id:e.id}},tile:""}},[a("v-card",{attrs:{width:"100%",tile:""}},[a("v-list-item-title",{staticClass:"text-h5"},[t._v(t._s(e.caption))]),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)],1)})),1)},tt=[],et=a("bc3a"),at=a.n(et),nt=a("200a"),rt={name:"ProposalsList",data:function(){return{items:[{id:"123",caption:"Поставить цветы у окна"},{id:"125",caption:"Работать 4 дня в неделю"},{id:"234",caption:"Мини переговорки"}]}},mounted:function(){this.loadList()},methods:{loadList:function(){var t=this;console.log("loadList");var e={method:"get",url:nt["a"]+"accelerator/tenders/",headers:{Authorization:"Bearer "+this.$store.state.token}};at()(e).then((function(e){console.log("loadList  loaded",e.data),t.items=e.data}))}}},ot=rt,st=a("b0af"),it=Object(h["a"])(ot,Z,tt,!1,null,"2ae09e69",null),lt=it.exports;g()(it,{VCard:st["a"],VList:k["a"],VListItem:y["a"],VListItemContent:T["a"],VListItemTitle:T["b"]});var ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",[a("v-card",{attrs:{tile:""}},[a("v-card-title",{staticClass:"text-h4"},[t._v(t._s(t.previousMonthTitle))]),a("v-card-title",[t._v("Генератор идей")]),a("v-card-title",[t._v("Любимчик публики")]),a("v-card-title",[t._v("Статистика предложений")])],1)],1)},ut=[],dt={name:"ActivityStats",data:function(){return{previousMonthTitle:"Активисты Май 2020"}}},pt=dt,mt=a("99d9"),ft=Object(h["a"])(pt,ct,ut,!1,null,"2ab78559",null),vt=ft.exports;g()(ft,{VCard:st["a"],VCardTitle:mt["d"],VList:k["a"]});var ht={name:"Proposals",components:{ActivityStats:vt,ProposalsList:lt}},bt=ht,gt=a("62ad"),_t=a("0fd9"),wt=Object(h["a"])(bt,X,Y,!1,null,"7285cdb4",null),kt=wt.exports;g()(wt,{VCol:gt["a"],VRow:_t["a"]});var yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rb-ProposalPage"},[a("h1",[t._v("Страница")]),t._v(" "+t._s(this.$route.name)+"= "+t._s(this.$route.params.id)+" ")])},Tt=[],Ot={name:"ProposalPage",components:{}},At=Ot,Ct=Object(h["a"])(At,yt,Tt,!1,null,null,null),St=Ct.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rb-Login"},[a("LoginForm")],1)},xt=[],jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-text-field",{attrs:{label:"Ваш e-mail",rules:t.emailRules},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginClick()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{label:"Пароль",rules:t.passwordRules,"append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",type:t.showPassword?"text":"password"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginClick()},"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(e){return t.loginClick()}}},[t._v("Поехали!")])],1)],1)},Vt=[],Lt={name:"LoginForm",data:function(){return{valid:!1,email:"kulibin@gpb.ru",emailRules:[function(t){return!!t||"E-mail обязателен"}],password:"",passwordRules:[function(t){return!!t||"Пароль обязателен"}],showPassword:!1}},methods:{loginClick:function(){var t=this;if(this.$refs.form.validate()){var e=this.email,a=this.password;this.$store.dispatch(l,{email:e,password:a}).then((function(){console.log("login OK"),t.$router.push("/proposals")}))}else console.log("login fail")}}},Pt=Lt,$t=a("4bd4"),Ut=a("8654"),It=Object(h["a"])(Pt,jt,Vt,!1,null,"1328e5a3",null),Rt=It.exports;g()(It,{VBtn:F["a"],VContainer:M["a"],VForm:$t["a"],VTextField:Ut["a"]});var Dt={name:"Login",components:{LoginForm:Rt}},Ht=Dt,Nt=Object(h["a"])(Ht,Et,xt,!1,null,"4619638d",null),Bt=Nt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rb-Projects"},[t._v(" Проекты ")])},Mt=[],zt={name:"Projects"},qt=zt,Gt=Object(h["a"])(qt,Ft,Mt,!1,null,"300ba998",null),Qt=Gt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rb-Shop"},[t._v(" Магазин ")])},Kt=[],Wt={name:"Shop"},Xt=Wt,Yt=Object(h["a"])(Xt,Jt,Kt,!1,null,"76ef5eb4",null),Zt=Yt.exports;n["default"].use(W["a"]);var te,ee,ae=[{path:"/login",name:"Login",component:Bt},{path:"/",alias:["/proposals"],name:"proposals",component:kt},{path:"/proposals/:id",alias:["/proposals/new"],name:"ProposalPage",component:St},{path:"/projects",name:"Projects",component:Qt},{path:"/shop",name:"Shop",component:Zt},{path:"/account",name:"Account",component:function(){return a.e("about").then(a.bind(null,"77be"))}}],ne=new W["a"]({mode:"history",base:"/rebus-hackathon-gh-pages/",routes:ae}),re=ne,oe=a("ade3"),se=a("2f62");n["default"].use(se["a"]);var ie=new se["a"].Store({state:{status:"",token:localStorage.getItem("user-token")||"",user:{avatarSmall:""}},mutations:(te={},Object(oe["a"])(te,l,(function(t){console.log("m   AUTH_REQUEST"),t.status="loading"})),Object(oe["a"])(te,c,(function(t,e){t.status="success",t.token=e})),Object(oe["a"])(te,u,(function(t){t.status="error"})),Object(oe["a"])(te,m,(function(t,e){console.log("userData 3",e),t.user={avatarSmall:e.little_avatar}})),te),actions:(ee={},Object(oe["a"])(ee,l,(function(t,e){var a=t.commit,n=t.dispatch;return console.log("A   AUTH_REQUEST",a,n,e),new Promise((function(t,n){a(l),at.a.post(nt["a"]+"users/login/",e).then((function(e){console.log("TH");var n=e.data.token;localStorage.setItem("user-token",n),a(c,n),t(e)})).catch((function(t){console.log("CATCH"),a(u,t),localStorage.removeItem("user-token"),n(t)}))}))})),Object(oe["a"])(ee,d,(function(t){var e=t.commit;return new Promise((function(t){console.log("AUTH_LOGOUT done"),e(d),localStorage.removeItem("user-token"),t()}))})),Object(oe["a"])(ee,p,(function(t){var e={method:"get",url:nt["a"]+"users/profile/",headers:{Authorization:"Bearer "+t.state.token}};at()(e).then((function(e){console.log("LOAD_USER_DATA  loaded",e),t.commit(m,e.data)}))})),ee),getters:{isAuthenticated:function(t){return!!t.token},authStatus:function(t){return t.status}},modules:{}}),le=a("f309");n["default"].use(le["a"]);var ce=new le["a"]({}),ue=a("ee98"),de=a.n(ue);n["default"].config.productionTip=!1,n["default"].use(de.a),new n["default"]({router:re,store:ie,vuetify:ce,render:function(t){return t(K)}}).$mount("#app")},f295:function(t,e,a){t.exports=a.p+"img/logo-white.d88d3333.svg"}});