(function(t){function e(e){for(var r,o,i=e[0],l=e[1],c=e[2],u=0,d=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var i=a[o];0!==n[i]&&(r=!1)}r&&(s.splice(e--,1),t=l(l.s=a[0]))}return t}var r={},o={app:0},n={app:0},s=[];function i(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"2c4cc8c7"}[t]+".js"}function l(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={about:1};o[t]?e.push(o[t]):0!==o[t]&&a[t]&&e.push(o[t]=new Promise((function(e,a){for(var r="css/"+({about:"about"}[t]||t)+"."+{about:"bbd1e452"}[t]+".css",n=l.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===r||u===n))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],u=c.getAttribute("data-href");if(u===r||u===n)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var r=e&&e.target&&e.target.src||n,s=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete o[t],p.parentNode.removeChild(p),a(s)},p.href=n;var v=document.getElementsByTagName("head")[0];v.appendChild(p)})).then((function(){o[t]=0})));var r=n[t];if(0!==r)if(r)e.push(r[2]);else{var s=new Promise((function(e,a){r=n[t]=[e,a]}));e.push(r[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=i(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(p);var a=n[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,a[1](d)}n[t]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=r,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(a,r,function(e){return t[e]}.bind(null,r));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/rebus-hackathon-gh-pages/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var p=u;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"200a":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var r="https://rebus-leadersofdigital-2020.herokuapp.com/api/"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("Drawer",{attrs:{items:t.items},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}}),r("v-app-bar",{attrs:{app:"",color:"#262C40",dark:""}},[r("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(e){t.drawer=!t.drawer}}}),r("img",{attrs:{width:"200",height:"40",src:a("f295")}}),r("v-spacer"),r("Tabs",{staticClass:"hidden-sm-and-down",attrs:{items:t.items}}),r("v-btn",{staticClass:"hidden-sm-and-down",attrs:{color:"primary"},on:{click:function(e){return t.clickNewTender()}}},[t._v("Есть предложение")]),r("v-btn",{staticClass:"hidden-md-and-up",attrs:{fab:"",small:"",color:"primary"},on:{click:function(e){return t.clickNewTender()}}},[r("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),r("v-avatar",{staticClass:"ma-3",staticStyle:{cursor:"pointer"},attrs:{size:"40",tile:""},on:{click:function(e){return t.clickAvatar()}}},[t.$store.state.user.avatarSmall?t._e():r("v-icon",{attrs:{dark:""}},[t._v("mdi-account")]),t.$store.state.user.avatarSmall?r("v-img",{attrs:{src:t.$store.state.user.avatarSmall}}):t._e()],1)],1),r("v-main",[r("v-container",{attrs:{fluid:""}},[r("router-view")],1)],1),r("v-footer",{attrs:{app:""}}),r("notifications",{attrs:{group:"notifications"}})],1)},n=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{attrs:{app:"","disable-resize-watcher":!0,value:t.value}},[a("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[t._l(t.items,(function(e){return a("v-list-item",{key:e.id,attrs:{to:{path:e.path}}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),a("v-divider"),a("v-list-item",{on:{click:function(e){return t.clickExit()}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-exit-to-app")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Выйти")])],1)],1)],2)],1)},i=[],l="AUTH_REQUEST",c="AUTH_SUCCESS",u="AUTH_ERROR",d="AUTH_LOGOUT",p="LOAD_USER_DATA",v="SET_USER_DATA",m={name:"Drawer",props:{value:{type:Boolean,required:!0},items:Array},data:function(){return{}},methods:{clickExit:function(){var t=this;console.log("exit"),this.$store.dispatch(d).then((function(){console.log("exit AUTH_LOGOUT"),t.$router.push("/login")}))}}},f=m,h=a("2877"),b=a("6544"),g=a.n(b),_=a("ce7e"),w=a("132d"),k=a("8860"),y=a("da13"),x=a("5d23"),C=a("34c3"),O=a("f774"),T=Object(h["a"])(f,s,i,!1,null,"d3bcfdca",null),S=T.exports;g()(T,{VDivider:_["a"],VIcon:w["a"],VList:k["a"],VListItem:y["a"],VListItemContent:x["a"],VListItemIcon:C["a"],VListItemTitle:x["b"],VNavigationDrawer:O["a"]});var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-tabs",{attrs:{dark:""}},t._l(t.items,(function(e){return a("v-tab",{key:e.id,attrs:{to:{path:e.path}}},[t._v(t._s(e.title))])})),1)},V=[],E={name:"Tabs",props:{items:Array},data:function(){return{}}},j=E,P=a("71a3"),$=a("fe57"),L=Object(h["a"])(j,A,V,!1,null,"2258bc8e",null),I=L.exports;g()(L,{VTab:P["a"],VTabs:$["a"]});var U={name:"App",components:{Tabs:I,Drawer:S},data:function(){return{drawer:!1,items:[{id:"proposals",title:"Предложения",icon:"mdi-lightbulb",path:"/proposals"},{id:"projects",title:"Проекты",icon:"mdi-star",path:"/projects"},{id:"shop",title:"Магазин",icon:"mdi-star",path:"/shop"}]}},mounted:function(){window.router=this.$router,console.log("router",window.router),this.$store.state.token||this.$router.push("/login"),this.$store.dispatch(p)},methods:{clickNewTender:function(){console.log("clickNewTender"),this.$router.push("/proposals/new")},clickAvatar:function(){this.$router.push("/account")}}},R=U,D=a("7496"),H=a("40dc"),N=a("5bc1"),B=a("8212"),F=a("8336"),M=a("a523"),q=a("553a"),z=a("adda"),G=a("f6c4"),Q=a("2fa4"),J=Object(h["a"])(R,o,n,!1,null,null,null),K=J.exports;g()(J,{VApp:D["a"],VAppBar:H["a"],VAppBarNavIcon:N["a"],VAvatar:B["a"],VBtn:F["a"],VContainer:M["a"],VFooter:q["a"],VIcon:w["a"],VImg:z["a"],VMain:G["a"],VSpacer:Q["a"]});a("d3b7");var W=a("8c4f"),X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"proposals"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("ProposalsList")],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("ActivityStats")],1)],1)],1)},Y=[],Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",t._l(t.items,(function(t){return a("v-col",{key:t.id,attrs:{cols:"12",md:"4"}},[a("ProposalItemCard",{attrs:{value:t}})],1)})),1)},tt=[],et=(a("d81d"),a("bc3a")),at=a.n(et),rt=a("200a"),ot=a("b34f"),nt={name:"ProposalsList",components:{ProposalItemCard:ot["a"]},data:function(){return{items:[{id:"123",caption:"Поставить цветы у окна"},{id:"125",caption:"Работать 4 дня в неделю"},{id:"234",caption:"Мини переговорки"}]}},mounted:function(){this.loadList()},methods:{loadList:function(){var t=this;console.log("loadList");var e={method:"get",url:rt["a"]+"accelerator/tenders/",headers:{Authorization:"Bearer "+this.$store.state.token}};at()(e).then((function(e){console.log("loadList  loaded",e.data),t.items=e.data.map((function(t){return{id:t.id,title:t.caption,img:t.presentation,answers:1,comments:t.comment_count,likes:t.like_count,dislikes:t.dislike_count,status:{create:"02.06.2020",title:"Создана"},is_draft:"draft"===t.status}}))}))}}},st=nt,it=a("62ad"),lt=a("0fd9"),ct=Object(h["a"])(st,Z,tt,!1,null,"74eadd4c",null),ut=ct.exports;g()(ct,{VCol:it["a"],VRow:lt["a"]});var dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",[a("v-card",{attrs:{tile:""}},[a("v-card-title",{staticClass:"text-h4"},[t._v(t._s(t.previousMonthTitle))]),a("v-card-title",[t._v("Генератор идей")]),a("v-card-title",[t._v("Любимчик публики")]),a("v-card-title",[t._v("Статистика предложений")])],1)],1)},pt=[],vt={name:"ActivityStats",data:function(){return{previousMonthTitle:"Активисты Май 2020"}}},mt=vt,ft=a("b0af"),ht=a("99d9"),bt=Object(h["a"])(mt,dt,pt,!1,null,"2ab78559",null),gt=bt.exports;g()(bt,{VCard:ft["a"],VCardTitle:ht["d"],VList:k["a"]});var _t={name:"Proposals",components:{ActivityStats:gt,ProposalsList:ut}},wt=_t,kt=Object(h["a"])(wt,X,Y,!1,null,"7285cdb4",null),yt=kt.exports;g()(kt,{VCol:it["a"],VRow:lt["a"]});var xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rb-ProposalPage"},[a("h1",[t._v("Страница")]),t._v(" "+t._s(this.$route.name)+"= "+t._s(this.$route.params.id)+" ")])},Ct=[],Ot={name:"ProposalPage",components:{}},Tt=Ot,St=Object(h["a"])(Tt,xt,Ct,!1,null,null,null),At=St.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rb-Login"},[a("LoginForm")],1)},Et=[],jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-text-field",{attrs:{label:"Ваш e-mail",rules:t.emailRules},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginClick()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{label:"Пароль",rules:t.passwordRules,"append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",type:t.showPassword?"text":"password"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginClick()},"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(e){return t.loginClick()}}},[t._v("Поехали!")])],1)],1)},Pt=[],$t={name:"LoginForm",data:function(){return{valid:!1,email:"kulibin@gpb.ru",emailRules:[function(t){return!!t||"E-mail обязателен"}],password:"",passwordRules:[function(t){return!!t||"Пароль обязателен"}],showPassword:!1}},methods:{loginClick:function(){var t=this;if(this.$refs.form.validate()){var e=this.email,a=this.password;this.$store.dispatch(l,{email:e,password:a}).then((function(){console.log("login OK"),t.$router.push("/proposals")}))}else console.log("login fail")}}},Lt=$t,It=a("4bd4"),Ut=a("8654"),Rt=Object(h["a"])(Lt,jt,Pt,!1,null,"1328e5a3",null),Dt=Rt.exports;g()(Rt,{VBtn:F["a"],VContainer:M["a"],VForm:It["a"],VTextField:Ut["a"]});var Ht={name:"Login",components:{LoginForm:Dt}},Nt=Ht,Bt=Object(h["a"])(Nt,Vt,Et,!1,null,"4619638d",null),Ft=Bt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rb-Projects"},[t._v(" Проекты ")])},qt=[],zt={name:"Projects"},Gt=zt,Qt=Object(h["a"])(Gt,Mt,qt,!1,null,"300ba998",null),Jt=Qt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rb-Shop"},[t._v(" Магазин ")])},Wt=[],Xt={name:"Shop"},Yt=Xt,Zt=Object(h["a"])(Yt,Kt,Wt,!1,null,"76ef5eb4",null),te=Zt.exports;r["default"].use(W["a"]);var ee,ae,re=[{path:"/login",name:"Login",component:Ft},{path:"/",alias:["/proposals"],name:"proposals",component:yt},{path:"/proposals/:id",alias:["/proposals/new"],name:"ProposalPage",component:At},{path:"/projects",name:"Projects",component:Jt},{path:"/shop",name:"Shop",component:te},{path:"/account",name:"Account",component:function(){return a.e("about").then(a.bind(null,"77be"))}}],oe=new W["a"]({mode:"history",base:"/rebus-hackathon-gh-pages/",routes:re}),ne=oe,se=a("ade3"),ie=a("2f62");r["default"].use(ie["a"]);var le=new ie["a"].Store({state:{status:"",token:localStorage.getItem("user-token")||"",user:{avatarSmall:""}},mutations:(ee={},Object(se["a"])(ee,l,(function(t){console.log("m   AUTH_REQUEST"),t.status="loading"})),Object(se["a"])(ee,c,(function(t,e){t.status="success",t.token=e})),Object(se["a"])(ee,u,(function(t){t.status="error"})),Object(se["a"])(ee,v,(function(t,e){console.log("userData 3",e),t.user={avatarSmall:e.little_avatar}})),ee),actions:(ae={},Object(se["a"])(ae,l,(function(t,e){var a=t.commit,r=t.dispatch;return console.log("A   AUTH_REQUEST",a,r,e),new Promise((function(t,r){a(l),at.a.post(rt["a"]+"users/login/",e).then((function(e){console.log("TH");var r=e.data.token;localStorage.setItem("user-token",r),a(c,r),t(e)})).catch((function(t){console.log("CATCH"),a(u,t),localStorage.removeItem("user-token"),r(t)}))}))})),Object(se["a"])(ae,d,(function(t){var e=t.commit;return new Promise((function(t){console.log("AUTH_LOGOUT done"),e(d),localStorage.removeItem("user-token"),t()}))})),Object(se["a"])(ae,p,(function(t){var e={method:"get",url:rt["a"]+"users/profile/",headers:{Authorization:"Bearer "+t.state.token}};at()(e).then((function(e){console.log("LOAD_USER_DATA  loaded",e),t.commit(v,e.data)}))})),ae),getters:{isAuthenticated:function(t){return!!t.token},authStatus:function(t){return t.status}},modules:{}}),ce=a("f309");r["default"].use(ce["a"]);var ue=new ce["a"]({}),de=a("ee98"),pe=a.n(de);r["default"].config.productionTip=!1,r["default"].use(pe.a),new r["default"]({router:ne,store:le,vuetify:ue,render:function(t){return t(K)}}).$mount("#app")},b34f:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{to:{name:"ProposalPage",params:{id:t.value.id}}}},[a("v-img",{staticClass:"white--text align-start",attrs:{src:t.value.img,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"}},[a("v-card-title",[t._v(t._s(t.value.title))]),a("v-card-subtitle",[t._v(t._s(t.value.subtitle))]),a("v-card-text",[t._v(t._s(t.value.text))]),a("div",{staticStyle:{bottom:"0px",position:"absolute",right:"0px",width:"100%",padding:"10px 10px 10px 10px"}},[t.value.is_draft?t._e():a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[t._v(t._s(t.value.answers)+" ответ(а,ов)")]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-message-reply")]),t._v(" "+t._s(t.value.comments)+" ")],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-icon",{attrs:{color:"red"}},[t._v("mdi-thumb-down-outline")]),t._v(" "+t._s(t.value.dislikes)+" ")],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-thumb-up-outline")]),t._v(" "+t._s(t.value.likes)+" ")],1)],1),t.value.is_draft?a("span",{staticStyle:{padding:"4px","border-radius":"6px",float:"right",color:"#000","background-color":"rgb(215, 222, 233)"}},[t._v("Не опубликована")]):t._e()],1)],1),t.value.status?a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[t._v(t._s(t.value.status.create))]),a("v-col",{attrs:{cols:"12",md:"6"}},[a("span",{staticStyle:{float:"right"}},[t._v(t._s(t.value.status.title))])])],1)],1):t._e()],1)},o=[],n={name:"ProposalItemCard",props:{value:{type:Object,required:!0}},data:function(){return{}},methods:{}},s=n,i=a("2877"),l=a("6544"),c=a.n(l),u=a("b0af"),d=a("99d9"),p=a("62ad"),v=a("132d"),m=a("adda"),f=a("0fd9"),h=Object(i["a"])(s,r,o,!1,null,null,null);e["a"]=h.exports;c()(h,{VCard:u["a"],VCardSubtitle:d["b"],VCardText:d["c"],VCardTitle:d["d"],VCol:p["a"],VIcon:v["a"],VImg:m["a"],VRow:f["a"]})},f295:function(t,e,a){t.exports=a.p+"img/logo-white.d88d3333.svg"}});